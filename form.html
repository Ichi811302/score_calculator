<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <title>ã‚¹ã‚³ã‚¢å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ </title>
  <link rel="stylesheet" href="score.css">
  <script src="ctl.js" defer></script>
</head>

<body>
  <h1>ã‚¹ã‚³ã‚¢å…¥åŠ›</h1>
  <div id="players-container"></div>
  <button class="button-large" onclick="calculateAndStore()">æ±ºå®š</button>
<button class="button-large" onclick="window.location.href='/score_calculator/'">æˆ»ã‚‹</button>

  <script>
    // ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼æ•°ã«å¿œã˜ãŸãƒ•ã‚©ãƒ¼ãƒ ã‚’å‹•çš„ã«ç”Ÿæˆ
    window.onload = function () {
      const playerCount = localStorage.getItem('playerCount'); // é¸æŠã•ã‚ŒãŸäººæ•°
      const container = document.getElementById('players-container');

      for (let i = 1; i <= playerCount; i++) {
        const form = `
          <div class="player-card">
           <div class="player-header">
            <h2>${i} äººç›®</h2> <!-- ğŸ‘ˆ ç¢ºå®Ÿã«ä¸€ç•ªä¸Šã«é…ç½® -->
           </div>

           <div class="player-content">
            <div class="form-group">
              <label for="perfect${i}">Perfect:</label>
              <input type="number" id="perfect${i}" value="0">
            </div>
            <div class="form-group">
              <label for="great${i}">Great:</label>
              <input type="number" id="great${i}" value="0">
            </div>
            <div class="form-group">
             <label for="good${i}">Good:</label>
             <input type="number" id="good${i}" value="0">
            </div>
           </div>
         </div>`;
        container.insertAdjacentHTML('beforeend', form);
      }
    };


    window.onload = function() {
    let players = JSON.parse(localStorage.getItem('players')) || [];

    players.forEach((player, index) => {
        let nameInput = document.getElementById(`name${index + 1}`); // idã®ã‚ºãƒ¬ã‚’è€ƒæ…®
        if (nameInput) {
            nameInput.value = player.name || ""; // ã‚‚ã—åå‰ãŒãªã‹ã£ãŸã‚‰ç©ºç™½ã«
        }
    });
};
</script>
</body>

</html>
